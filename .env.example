# API Test Agent Configuration

# ============================================
# API Testing Configuration
# ============================================
# Base URL for API testing
API_BASE_URL=https://api.example.com

# OpenAPI Specification Path (optional - can be passed via CLI)
OPENAPI_SPEC_PATH=./openapi.yaml

# Test Output Directory
TEST_OUTPUT_DIR=./tests/generated

# ============================================
# OpenAI Configuration (for AI-powered features)
# ============================================
# OpenAI API Key for self-healing and AI test generation
OPENAI_API_KEY=sk-...

# OpenAI Model (gpt-4, gpt-3.5-turbo, etc.)
OPENAI_MODEL=gpt-4

# OpenAI Max Tokens per request
OPENAI_MAX_TOKENS=2000

# ============================================
# GitHub Integration
# ============================================
# GitHub Personal Access Token (for PR comments and check runs)
GITHUB_TOKEN=ghp_...

# GitHub Repository (owner/repo format)
GITHUB_REPOSITORY=username/repo-name

# GitHub Pull Request Number (for automatic PR integration)
GITHUB_PR_NUMBER=123

# GitHub SHA (for check runs - usually auto-populated in CI)
GITHUB_SHA=abc123...

# ============================================
# Email Reporting (SMTP)
# ============================================
# Enable email reports (true/false)
EMAIL_ENABLED=true

# SMTP Server Configuration
SMTP_HOST=smtp.gmail.com
SMTP_PORT=587
SMTP_SECURE=false
SMTP_USER=your-email@gmail.com
SMTP_PASSWORD=your-app-password

# Email Recipients (comma-separated)
EMAIL_TO=qa-team@example.com,developers@example.com
EMAIL_CC=
EMAIL_BCC=

# Sender Information
EMAIL_FROM=api-test-agent@example.com
EMAIL_FROM_NAME=API Test Agent

# Email Subject Template
EMAIL_SUBJECT=API Test Results - {{status}} ({{passed}}/{{total}} passed)

# ============================================
# Docker Configuration
# ============================================
# Use Docker for test execution (true/false)
USE_DOCKER=false

# Docker Image for Playwright tests
DOCKER_IMAGE=mcr.microsoft.com/playwright:latest

# Isolate each test in separate container
DOCKER_ISOLATE_TESTS=false

# Docker Resource Limits
DOCKER_MEMORY_LIMIT=2048m
DOCKER_CPU_LIMIT=2

# ============================================
# Webhook Server Configuration
# ============================================
# Webhook Server Port
WEBHOOK_PORT=3000

# Webhook Secret for GitHub signature verification
WEBHOOK_SECRET=your-webhook-secret-here

# Webhook Path
WEBHOOK_PATH=/webhook

# ============================================
# Performance Testing
# ============================================
# Default number of virtual users for load tests
LOAD_TEST_USERS=10

# Default duration for performance tests (seconds)
LOAD_TEST_DURATION=60

# ============================================
# Worker Configuration
# ============================================
# Number of parallel workers
WORKERS=4
MAX_WORKERS=4
MIN_WORKERS=1

# Worker Resource Limits
WORKER_MEMORY_LIMIT_MB=512
WORKER_TIMEOUT_MS=30000
WORKER_ISOLATION=true

# ============================================
# Test Execution Configuration
# ============================================
# Test timeout (milliseconds)
TEST_TIMEOUT=30000

# Retry failed tests (number of retries)
TEST_RETRIES=2

# Retry Configuration
MAX_RETRIES=3
INITIAL_DELAY_MS=1000
MAX_DELAY_MS=30000
BACKOFF_MULTIPLIER=2
ENABLE_JITTER=true
JITTER_FACTOR=0.3

# Execution Timeouts
GLOBAL_TIMEOUT_MS=600000
ACTION_TIMEOUT_MS=10000
NAVIGATION_TIMEOUT_MS=30000

# ============================================
# CI/CD Configuration
# ============================================
# Running in CI environment (true/false)
CI=false

# Number of workers in CI
CI_WORKERS=2

# ============================================
# Self-Healing Configuration
# ============================================
# Enable self-healing (true/false)
HEALING_ENABLED=true

# Maximum healing attempts per test
HEALING_MAX_ATTEMPTS=3

# Monthly budget for AI costs (USD)
HEALING_MONTHLY_BUDGET=100

# Cost threshold for using fallback strategies (USD)
HEALING_FALLBACK_THRESHOLD=0.10

# ============================================
# Logging and Debugging
# ============================================
# Log Level (debug, info, warn, error)
LOG_LEVEL=info

# Verbose output (true/false)
VERBOSE=false

# Save request/response logs
SAVE_LOGS=true

# ============================================
# Security & Authentication
# ============================================
# API Authentication Type (bearer, apikey, oauth2, basic)
AUTH_TYPE=bearer

# Bearer Token
AUTH_BEARER_TOKEN=

# API Key
AUTH_API_KEY=
AUTH_API_KEY_HEADER=X-API-Key

# Basic Auth
AUTH_BASIC_USERNAME=
AUTH_BASIC_PASSWORD=

# OAuth2
OAUTH2_CLIENT_ID=
OAUTH2_CLIENT_SECRET=
OAUTH2_TOKEN_URL=

# ============================================
# Advanced Configuration
# ============================================
# Incremental generation (regenerate only changed endpoints)
INCREMENTAL_GENERATION=true

# Cache AI responses
CACHE_ENABLED=true

# Report format (html, json, junit, all)
REPORT_FORMAT=all

# Report output directory
REPORT_OUTPUT_DIR=./reports
